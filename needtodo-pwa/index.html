<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NeedToDo — Habits · Homework · Home Care</title>

  <!-- Materialize CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/app.css" rel="stylesheet" />
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="color-scheme" content="light">
</head>
<body class="grey lighten-5">
  <header>
    <nav class="blue">
      <div class="nav-wrapper container">
        <a href="#" class="brand-logo">NeedToDo</a>
        <ul id="nav-mobile" class="right">
          <li><a id="btnExport" href="#!">Export</a></li>
          <li><a id="btnImport" href="#importModal" class="modal-trigger">Import</a></li>
          <li><a id="btnAbout" href="#aboutModal" class="modal-trigger">About</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <main class="container" style="margin-top: 1.2rem;">
    <!-- Tabs -->
    <ul id="tabs" class="tabs">
      <li class="tab col s3"><a class="active" href="#tab-habits">Habits</a></li>
      <li class="tab col s3"><a href="#tab-homework">Homework</a></li>
      <li class="tab col s3"><a href="#tab-homecare">Home Care</a></li>
    </ul>

    <!-- HABITS -->
    <section id="tab-habits" class="section">
      <div class="section">
        <a id="fabAddHabit"
          class="btn-floating btn-large waves-effect waves-light blue tooltipped"
          data-position="left" data-tooltip="Add Habit"
          style="position: fixed; right: 24px; bottom: 24px;">
          <i class="material-icons">add</i>
        </a>
        <div id="habitsList" class="section">
          <!-- Rendered habit cards -->
        </div>
      </div>
    </section>

    <!-- HOMEWORK -->
    <section id="tab-homework" class="section">
      <div class="row">
        <div class="col s12 m4">
          <div class="card">
            <div class="card-content">
              <span class="card-title">Classes</span>
              <div id="classesList"></div>
              <div class="section center">
                <a id="btnAddClass" class="btn waves-effect blue">Add Class</a>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-content">
              <span class="card-title">Grade Scheme</span>
              <div id="gradeSchemePanel" class="grey-text">Select a class to edit weights</div>
            </div>
          </div>
        </div>
        <div class="col s12 m8">
          <div class="card">
            <div class="card-content">
              <span class="card-title">Assignments</span>
              <div id="assignmentsList" class="section"></div>
              <div class="section center">
                <a id="btnAddAssignment" class="btn waves-effect blue disabled">Add Assignment</a>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-content">
              <span class="card-title">Current Grade</span>
              <div id="currentGrade" class="flow-text grey-text">Select a class</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- HOME CARE -->
    <section id="tab-homecare" class="section">
      <a id="fabAddHomeTask"
        class="btn-floating btn-large waves-effect waves-light blue tooltipped"
        data-position="left" data-tooltip="Add Home Task"
        style="position: fixed; right: 24px; bottom: 24px;">
        <i class="material-icons">add</i>
      </a>
      <div id="homeTasksList" class="section"></div>
    </section>
  </main>

  <!-- Import Modal -->
  <div id="importModal" class="modal">
    <div class="modal-content">
      <h4>Import JSON</h4>
      <p>Select a previously exported NeedToDo JSON file.</p>
      <div class="file-field input-field">
        <div class="btn">
          <span>File</span>
          <input id="importFile" type="file" accept="application/json">
        </div>
        <div class="file-path-wrapper">
          <input class="file-path validate" type="text" placeholder="Choose JSON...">
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <a href="#!" id="btnDoImport" class="modal-close waves-effect btn blue">Import</a>
      <a href="#!" class="modal-close waves-effect btn-flat">Cancel</a>
    </div>
  </div>

  <!-- About Modal -->
  <div id="aboutModal" class="modal">
    <div class="modal-content">
      <h4>About</h4>
      <p><strong>NeedToDo</strong> is a lightweight, offline-first PWA for daily habits, homework, and home care tasks. Prototype for INF654.</p>
      <ul class="browser-default">
        <li>Offline: Service Worker + IndexedDB</li>
        <li>Installable (Manifest)</li>
        <li>Data export/import (JSON)</li>
      </ul>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect btn blue">OK</a>
    </div>
  </div>

  <!-- Materialize JS (CDN) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="js/db.js"></script>
  <script src="js/state.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/app.js"></script>
  <script src="js/sw-register.js"></script>
</body>
</html>
